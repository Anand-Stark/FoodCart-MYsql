<%- include('../includes/start.ejs') %>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.js"
    integrity="sha512-E378bwaeZf1nwXeJGIwTB58A5gPt5jFU3u6aTGja4ZdRFJeo/N/REKnBgNZOZlH6JdnOPO98vg2AnSGaNfCMFQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <link rel="stylesheet" href="/css/restaurant-styles.css">

  </head>

  <body>
    <%- include('../includes/navigation.ejs') %>
      <main>
        <div class="form-image">
          <div class="formContainer">
            <form id="postRestraunt">
              <div class="form-floating mb-3">
                <input type="text" class="form-control childLoginStyle formDiv" name="name" id="name"
                  placeholder="Restaurant Name" required>
                <label for="name">Restaurant Name</label>
              </div>
              <div class="form-floating mb-3">
                <input type="text" name="imageUrl" class="form-control childLoginStyle formDiv" id="imageUrl"
                  placeholder="imageUrl" required>
                <label for="imageUrl">imageUrl</label>
              </div>
              <div class="form-floating mb-3">
                <input type="text" name="location" class="form-control childLoginStyle formDiv" id="location"
                  placeholder="location" required>
                <label for="location">Location</label>
              </div>
              <div class="form-floating mb-3">
                <input type="number" name="employee" class="form-control childLoginStyle formDiv" id="employee"
                  placeholder="rating" required>
                <label for="employee">No of Employees</label>
              </div>
              <div class="form-floating ">
                <button type="submit" class="btn btn-outline-warning btn-addproduct buttonMain">Add Restaurant</button>
              </div>
            </form>
          </div>

          <div>
            <!-- <img src="css/images/4676729.jpg" alt="form-image"> -->
            <p style="color:white; font-size: 4rem; padding-top: 10rem;">Register Your Restaurant ! Come fetch the best
              food price with us! üçï</p>
          </div>

        </div>



      </main>

      <%- include('../includes/end.ejs') %>

        <script>
          document.getElementById("postRestraunt").onsubmit = (e) => {
            e.preventDefault()
            const xhr = new XMLHttpRequest();

            xhr.onreadystatechange = function () {
              if (this.readyState === 4 && this.status === 200) {
                window.location.href = "http://localhost:3000/restaurant/products";
              }
              if (this.readyState === 4 && this.status === 404) {
                console.log("2nd if condition Error")
              }
              if (this.readyState === 4 && this.status === 403) {
                console.log("3rd if condition Error")
              }
            }

            xhr.open("POST", "http://localhost:3000/restaurant/add-product", true);
            xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
            xhr.send(`name=${document.getElementById("name").value}&imageUrl=${document.getElementById("imageUrl").value}&location=${document.getElementById("location").value}&employee=${document.getElementById("employee").value}`);
          }
        </script>